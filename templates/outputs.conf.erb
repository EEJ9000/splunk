# Puppet Name: <%= @title %>
#
<%
  server = scope['::splunk::params::indexers']
-%>
[tcpout]
indexAndForward=false
defaultGroup=allIndexers

[tcpout:allIndexers]
disabled = false
compressed = true
autoLB = true
autoLBFrequency = 60
forceTimebasedAutoLB = true
server = <% if server.is_a?(Array) -%><%= server.join(',') -%><% else -%><%= server %><%  end %>
<% ssl = scope['::splunk::params::tcpssl'] -%>
<% if ssl == true -%>
sslVerifyServerCert = false
sslRootCAPath = $SPLUNK_HOME/etc/auth/cacert.pem
sslCertPath = $SPLUNK_HOME/etc/auth/server.pem
password=password
<% end -%>

